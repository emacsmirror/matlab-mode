# -*- t-utils-ts-parse-tree -*-
(source_file (comment[1,20]@{% -*- matlab-ts -*-}@)
 (spmd_statement spmd[22,26] (comment[31,36]@{% foo}@)
  (block
   (assignment left: (identifier[41,42]@{q}@) =[43,44]
    right: 
     (function_call name: (identifier[45,50]@{magic}@) ([50,51]
      (arguments
       argument: (binary_operator left: (identifier[51,60]@{spmdIndex}@) +[61,62] right: (number[63,64]@{2}@)))
      )[64,65]))
   ;[65,66] \n[66,67])
  end[67,70])
 \n[70,72]
 (assignment left: (identifier[72,85]@{myClusterPool}@) =[86,87]
  right: 
   (function_call name: (identifier[88,95]@{parpool}@) ([95,96]
    (arguments
     argument: (string "[96,97] (string_content[97,109]@{myMJSCluster}@) "[109,110])
     ,[110,111] (number[111,113]@{15}@))
    )[113,114]))
 ;[114,115]
 (assignment left: (identifier[117,128]@{spmdWorkers}@) =[129,130]
  right: 
   (field_expression object: (identifier[131,144]@{myClusterPool}@) .[144,145]
    field: 
     (function_call name: (identifier[145,152]@{Workers}@) ([152,153]
      (arguments
       argument: (range (number[153,154]@{1}@) :[154,155] (number[155,156]@{6}@)))
      )[156,157])))
 ;[157,158]
 (assignment
  left: (multioutput_variable [[159,160] (identifier[160,168]@{spmdPool}@) ,[168,169] (identifier[169,178]@{otherPool}@) ][178,179])
  =[180,181]
  right: 
   (function_call name: (identifier[182,191]@{partition}@) ([191,192]
    (arguments argument: (identifier[192,205]@{myClusterPool}@) ,[205,206]
     (string "[206,207] (string_content[207,214]@{Workers}@) "[214,215])
     ,[215,216] (identifier[216,227]@{spmdWorkers}@))
    )[227,228]))
 ;[228,229]
 (assignment left: (identifier[231,234]@{fun}@) =[235,236]
  right: 
   (lambda @[237,238] ([238,239]
    (arguments (identifier[239,240]@{x}@))
    )[240,241]
    expression: 
     (binary_operator left: (number[242,244]@{4.}@) /[244,245]
      right: 
       (parenthesis ([245,246]
        (binary_operator left: (number[246,247]@{1}@) +[248,249]
         right: (binary_operator left: (identifier[250,251]@{x}@) .^[251,253] right: (number[253,254]@{2}@)))
        )[254,255]))))
 ;[255,256] \n[256,257]
 (spmd_statement spmd[257,261] ([261,262] (identifier[262,270]@{spmdPool}@) )[270,271]
  (block
   (assignment left: (identifier[276,277]@{a}@) =[278,279]
    right: 
     (binary_operator
      left: 
       (parenthesis ([280,281]
        (binary_operator left: (identifier[281,290]@{spmdIndex}@) -[291,292] right: (number[293,294]@{1}@))
        )[294,295])
      /[295,296] right: (identifier[296,304]@{spmdSize}@)))
   ;[304,305]
   (assignment left: (identifier[310,311]@{b}@) =[312,313]
    right: (binary_operator left: (identifier[314,323]@{spmdIndex}@) /[323,324] right: (identifier[324,332]@{spmdSize}@)))
   ;[332,333]
   (assignment left: (identifier[338,348]@{myIntegral}@) =[349,350]
    right: 
     (function_call name: (identifier[351,359]@{integral}@) ([359,360]
      (arguments argument: (identifier[360,363]@{fun}@) ,[363,364] (identifier[364,365]@{a}@) ,[365,366] (identifier[366,367]@{b}@))
      )[367,368]))
   ;[368,369]
   (assignment left: (identifier[374,382]@{piApprox}@) =[383,384]
    right: 
     (function_call name: (identifier[385,393]@{spmdPlus}@) ([393,394]
      (arguments argument: (identifier[394,404]@{myIntegral}@))
      )[404,405]))
   ;[405,406] \n[406,407])
  end[407,410])
 \n[410,411])
